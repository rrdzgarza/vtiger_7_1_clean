services:
  vtiger:
    build: .
    container_name: vtiger_mariadb
    restart: always
    env_file:
      - .env
    volumes:
      # Data Persistence is CRITICAL for manual copy strategy
      # Files copied via 'docker cp' or 'restaura.sh' must survive redeploys
      - vtiger_mariadb_data:/var/www/html
      - vtiger_mariadb_storage:/var/www/html/storage
      - vtiger_mariadb_logs:/var/log/apache2
    networks:
      - default

volumes:
  vtiger_mariadb_data:
  vtiger_mariadb_storage:
  vtiger_mariadb_logs:
